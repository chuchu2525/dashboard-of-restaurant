# Restaurant Occupancy Dashboard

ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã®å æœ‰ãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã—ã€é¡§å®¢ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æã¨é‹å–¶æœ€é©åŒ–ã‚’æ”¯æ´ã™ã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## Features

- ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é¡§å®¢æ•°ãƒ»ãƒ†ãƒ¼ãƒ–ãƒ«å æœ‰ç‡ã®è¡¨ç¤º
- ğŸ“ˆ æ™‚ç³»åˆ—ã§ã®é¡§å®¢æ•°æ¨ç§»ã‚°ãƒ©ãƒ•
- ğŸª‘ åº§å¸­ã”ã¨ã®å æœ‰çŠ¶æ³ã®å¯è¦–åŒ–
- ğŸ‘¥ ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºåˆ†å¸ƒã®åˆ†æ
- ğŸ¤– AI ã«ã‚ˆã‚‹é‹å–¶æ”¹å–„ææ¡ˆï¼ˆGemini API ä½¿ç”¨ï¼‰

## Run Locally

**Prerequisites:** Node.js

1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`

## ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§åˆ†æå¯èƒ½ãª JSON ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

### åŸºæœ¬æ§‹é€ 

JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ•ãƒ¬ãƒ¼ãƒ ã‚­ãƒ¼ã‚’ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚­ãƒ¼ã¨ã—ã€ãã®å€¤ã¨ã—ã¦å„ãƒ•ãƒ¬ãƒ¼ãƒ ã§æ¤œå‡ºã•ã‚ŒãŸäººç‰©æƒ…å ±ã®é…åˆ—ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```json
{
  "ãƒ•ãƒ¬ãƒ¼ãƒ ã‚­ãƒ¼1": [æ¤œå‡ºãƒ‡ãƒ¼ã‚¿é…åˆ—],
  "ãƒ•ãƒ¬ãƒ¼ãƒ ã‚­ãƒ¼2": [æ¤œå‡ºãƒ‡ãƒ¼ã‚¿é…åˆ—],
  ...
}
```

### æ¤œå‡ºãƒ‡ãƒ¼ã‚¿ã®å¿…é ˆé …ç›®

å„æ¤œå‡ºãƒ‡ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¤å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

| é …ç›®                | å‹             | èª¬æ˜                                      | ä¾‹                        |
| :------------------ | :------------- | :---------------------------------------- | :------------------------ |
| `frame_number`      | number         | ãƒ•ãƒ¬ãƒ¼ãƒ ç•ªå·                              | `1`                       |
| `timestamp`         | string         | ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ— (YYYY-MM-DD HH:MM:SS)      | `"2025-06-19 19:12:30"`   |
| `person_id`         | string         | ä¸€æ„ã®äººç‰© ID                             | `"ID_001"`                |
| `bbox`              | number[]       | ãƒã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹ `[x1, y1, x2, y2]` | `[2732, 949, 3359, 1984]` |
| `raw_seat_id`       | string \| null | AI ã«ã‚ˆã‚‹æœªåŠ å·¥ã®åº§å¸­ ID                  | `"right"`                 |
| `confirmed_seat_id` | string \| null | ç¢ºå®šã—ãŸåº§å¸­ IDï¼ˆã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ã«ä½¿ç”¨ï¼‰     | `"table_1"`               |
| `seat_status`       | string         | åº§å¸­ã®çŠ¶æ…‹ ("Unassigned", "Assigned"ãªã©) | `"Assigned"`              |
| `confidence`        | number         | æ¤œå‡ºã®ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ (0-1 ã®ç¯„å›²)           | `0.9236`                  |

### å…·ä½“ä¾‹

```json
{
  "frame_001": [
    {
      "frame_number": 1,
      "timestamp": "2025-06-19 19:12:30",
      "person_id": "ID_001",
      "bbox": [2732, 949, 3359, 1984],
      "raw_seat_id": "right",
      "confirmed_seat_id": "table_1",
      "seat_status": "Assigned",
      "confidence": 0.923641562461853
    },
    {
      "frame_number": 1,
      "timestamp": "2025-06-19 19:12:30",
      "person_id": "ID_002",
      "bbox": [0, 1469, 446, 1995],
      "raw_seat_id": null,
      "confirmed_seat_id": "table_1",
      "seat_status": "Assigned",
      "confidence": 0.9182910323143005
    },
    {
      "frame_number": 1,
      "timestamp": "2025-06-19 19:12:30",
      "person_id": "ID_003",
      "bbox": [319, 1528, 729, 1995],
      "raw_seat_id": null,
      "confirmed_seat_id": "table_2",
      "seat_status": "Assigned",
      "confidence": 0.8378861546516418
    }
  ],
  "frame_002": [
    {
      "frame_number": 2,
      "timestamp": "2025-06-19 19:12:32",
      "person_id": "ID_001",
      "bbox": [2735, 951, 3361, 1986],
      "raw_seat_id": "right",
      "confirmed_seat_id": "table_1",
      "seat_status": "Assigned",
      "confidence": 0.925
    }
  ]
}
```

### é‡è¦ãªæ³¨æ„ç‚¹

- âœ… ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã¯ `.json` ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- âœ… `Time` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€ŒYYYY-MM-DD HH:MM:SSã€å½¢å¼ã§è¨˜è¼‰ã—ã¦ãã ã•ã„
- âœ… `SeatID` ã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã‚„åº§å¸­ã‚’è­˜åˆ¥ã™ã‚‹ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªæ–‡å­—åˆ—ã§ã™ï¼ˆä¾‹ï¼štable1, table2, seat_A1 ãªã©ï¼‰
- âœ… æ¤œå‡ºãƒ‡ãƒ¼ã‚¿ãŒç©ºã®é…åˆ—ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã¯è‡ªå‹•çš„ã«é™¤å¤–ã•ã‚Œã¾ã™
- âœ… ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã«åŸºæœ¬çš„ãªæ§‹é€ ãƒã‚§ãƒƒã‚¯ãŒè¡Œã‚ã‚Œã¾ã™

ã“ã®å½¢å¼ã«å¾“ã£ãŸ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã®é¡§å®¢åˆ†æã€åº§å¸­å æœ‰ç‡ã®æ¨ç§»ã€ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºã®åˆ†å¸ƒãªã©ã®è©³ç´°ãªåˆ†æãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
